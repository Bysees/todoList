"use strict";(self.webpackChunkwebpack5_boilerplate=self.webpackChunkwebpack5_boilerplate||[]).push([[179],{518:function(t,e,r){var n=r(655),a=r(998),o=r(745),s=r(335),i=r(346),c=a.I0,u=a.v9;function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f=function(t,e){return{type:"TODO/REMOVE_TASK",taskId:t,statusId:e}},p=function(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({type:"TODO/EDIT_TASK_POSITION"},t)};function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var b="store",m=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,r=[{key:"setState",value:function(t){localStorage.setItem(b,JSON.stringify(t))}},{key:"getState",value:function(){var t=localStorage.getItem(b);return t?JSON.parse(t):{}}},{key:"clearState",value:function(){localStorage.setItem(b,"")}}],null&&y(e.prototype,null),r&&y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),v=r(184),O=r.n(v),j=function(t){return{type:"TODO/SET_ACTIVE_TASK_ID",activeTaskId:t}},I=function(t,e){return{type:"TODO/EDIT_TASK",taskId:t,task:e}},h=r(857);function k(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return g(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function T(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function S(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?T(Object(r),!0).forEach((function(e){w(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function w(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var D={activeTaskId:null,entities:{},ids:[]};function x(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function A(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?x(Object(r),!0).forEach((function(e){_(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var P;function E(t){return function(t){if(Array.isArray(t))return N(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return N(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function C(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function R(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?C(Object(r),!0).forEach((function(e){K(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function K(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var M="queue",U="development",L="done",B={entities:(P={},K(P,M,{id:M,title:"queue",taskIds:[]}),K(P,U,{id:U,title:"development",taskIds:[]}),K(P,L,{id:L,title:"done",taskIds:[]}),P),ids:[M,U,L]};function F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function V(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?F(Object(r),!0).forEach((function(e){H(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function H(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var $={text:""};function q(t){return function(t){if(Array.isArray(t))return Y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Y(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function X(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function J(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?X(Object(r),!0).forEach((function(e){W(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function W(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Z=(0,h.UY)({tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TODO/ADD_TASK":var r={id:e.taskId,createdAt:e.createdAt,completedAt:null,priory:"ordinary",title:"",body:"",statusId:e.statusId,subTaskIds:[],commentIds:[]};return S(S({},t),{},{entities:S(S({},t.entities),{},w({},e.taskId,r)),ids:[].concat(k(t.ids),[e.taskId])});case"TODO/EDIT_TASK":var n=t.entities[e.taskId];return S(S({},t),{},{entities:S(S({},t.entities),{},w({},e.taskId,S(S({},n),e.task)))});case"TODO/EDIT_TASK_POSITION":var a=e.taskId,o=e.startStatusId,s=e.endStatusId;if(o===s)return t;var i=S({},t.entities[a]);return i.statusId=s,i.completedAt="done"===s?Date.now():null,S(S({},t),{},{entities:S(S({},t.entities),{},w({},a,S({},i)))});case"TODO/REMOVE_TASK":var c=S({},t.entities);return delete c[e.taskId],S(S({},t),{},{entities:S({},c),ids:t.ids.filter((function(t){return t!==e.taskId}))});case"TODO/ADD_SUBTASK":var u=t.entities[e.taskId];return S(S({},t),{},{entities:S(S({},t.entities),{},w({},e.taskId,S(S({},u),{},{subTaskIds:[].concat(k(u.subTaskIds),[e.subTaskId])})))});case"TODO/REMOVE_SUBTASK":var l=t.entities[e.taskId];return S(S({},t),{},{entities:S(S({},t.entities),{},w({},e.taskId,S(S({},l),{},{subTaskIds:l.subTaskIds.filter((function(t){return t!==e.subTaskId}))})))});case"TODO/SET_ACTIVE_TASK_ID":return S(S({},t),{},{activeTaskId:e.activeTaskId});case"TODO/REMOVE_ACTIVE_TASK_ID":return S(S({},t),{},{activeTaskId:null});case"TODO/ADD_COMMENT":var d=t.entities[e.taskId];return S(S({},t),{},{entities:S(S({},t.entities),{},w({},e.taskId,S(S({},d),{},{commentIds:[].concat(k(d.commentIds),[e.commentId])})))});default:return t}},subTasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TODO/ADD_SUBTASK":var r={id:e.subTaskId,body:"",isDone:!1};return A(A({},t),{},_({},e.subTaskId,r));case"TODO/EDIT_SUBTASK":var n=t[e.subTaskId];return A(A({},t),{},_({},e.subTaskId,A(A({},n),e.subTask)));case"TODO/REMOVE_SUBTASK":var a=A({},t);return delete a[e.subTaskId],a;default:return t}},status:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TODO/ADD_TASK":var r=t.entities[e.statusId];return R(R({},t),{},{entities:R(R({},t.entities),{},K({},e.statusId,R(R({},r),{},{taskIds:[].concat(E(r.taskIds),[e.taskId])})))});case"TODO/REMOVE_TASK":var n=t.entities[e.statusId];return R(R({},t),{},{entities:R(R({},t.entities),{},K({},e.statusId,R(R({},n),{},{taskIds:n.taskIds.filter((function(t){return t!==e.taskId}))})))});case"TODO/EDIT_TASK_POSITION":var a,o=e.startStatusId,s=e.endStatusId,i=e.taskId,c=e.endIndex,u=t.entities[o],l=u.taskIds.filter((function(t){return t!==i})),d=t.entities[s],f=E(d.taskIds);return void 0===c&&(c=f.length),o===s?(l.splice(c,0,i),R(R({},t),{},{entities:R(R({},t.entities),{},K({},o,R(R({},u),{},{taskIds:l})))})):(f.splice(c,0,i),R(R({},t),{},{entities:R(R({},t.entities),{},(a={},K(a,o,R(R({},u),{},{taskIds:l})),K(a,s,R(R({},d),{},{taskIds:f})),a))}));default:return t}},comments:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TODO/ADD_COMMENT":var r={id:e.commentId,body:e.body,createdAt:e.createdAt,replyIds:[]};return J(J({},t),{},W({},e.commentId,r));case"TODO/ADD_REPLY":var n,a=t[e.commentId],o={id:e.replyId,body:e.body,createdAt:e.createdAt,replyIds:[]};return J(J({},t),{},(W(n={},e.replyId,o),W(n,e.commentId,J(J({},a),{},{replyIds:[].concat(q(a.replyIds),[e.replyId])})),n));default:return t}},filter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,e=arguments.length>1?arguments[1]:void 0;return"TODO/SET_FILTER_TEXT"===e.type?V(V({},t),{},{text:e.text}):t}}),z=(0,h.UY)({todo:Z}),G=m.getState(),Q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||h.qC,tt=(0,h.jB)(z,G,Q((0,h.md)((function(t){return function(e){return function(r){var n=e(r),a=t.getState();return m.setState(a),n}}})))),et={column:"tasks--column",column__title:"tasks--column__title",column__title_queue:"tasks--column__title_queue",column__title_development:"tasks--column__title_development",column__title_done:"tasks--column__title_done",taskList:"tasks--taskList",taskList_isDragOver:"tasks--taskList_isDragOver",task:"tasks--task",task_active:"tasks--task_active","task-create":"tasks--task-create"},rt=r(893);function nt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function at(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(r),!0).forEach((function(e){ot(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ot(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function st(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var it=function(t){var e=t.children,r=t.statusId,n=u((function(t){return t.todo.status.entities[r].taskIds})),a=u((function(t){return t.todo.filter.text})),o=tt.getState().todo.tasks.entities,s=n.reduce((function(t,e){var r,n=o[e].title.toLocaleLowerCase(),s=a.toLocaleLowerCase();return n.includes(s)?[].concat(function(t){if(Array.isArray(t))return st(t)}(r=t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||function(t,e){if(t){if("string"==typeof t)return st(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?st(t,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]):t}),[]);return(0,rt.jsx)(i.bK,{droppableId:r,children:function(t,r){return(0,rt.jsxs)("ul",at(at({className:O()(et.taskList,ot({},et.taskList_isDragOver,r.isDraggingOver)),ref:t.innerRef},t.droppableProps),{},{children:[s.map((function(t,r){return e(t,r)})),t.placeholder]}))}})},ct=r(294);function ut(t,e){return function(r){return r.todo.tasks.entities[t][e]}}function lt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function dt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?lt(Object(r),!0).forEach((function(e){ft(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ft(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var pt=(0,ct.memo)((function(t){t.removeTask;var e=t.openTask,r=t.taskId,n=t.index,a=(t.statusId,u(ut(r,"title"))),o=u((function(t){return t.todo.tasks.activeTaskId===r})),s=function(){e(r)},c=function(t){"Enter"===t.key&&s()};return(0,rt.jsx)(i._l,{draggableId:r,index:n,children:function(t){return(0,rt.jsx)("li",dt(dt(dt({className:O()(et.task,ft({},et.task_active,o))},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,onClick:s,tabIndex:0,onKeyDown:c,children:a||"Untitled"}))}})})),yt=function(t){var e=t.openNewTask;return(0,rt.jsx)("div",{className:et["task-create"],children:(0,rt.jsx)("button",{tabIndex:0,onClick:e,children:"+ New task"})})},bt=function(t){var e=t.statusId,r=c(),n=u((function(t){return t.todo.status.entities[e].title})),a=function(t){r(j(t))},o=function(t,e,n){n&&r({type:"TODO/REMOVE_ACTIVE_TASK_ID"}),r(f(t,e))};return(0,rt.jsxs)("section",{className:et.column,children:[(0,rt.jsx)("h2",{className:O()(et.column__title,et["column__title_".concat(e)]),children:n}),(0,rt.jsx)(it,{statusId:e,children:function(t,r){return(0,rt.jsx)(pt,{index:r,taskId:t,statusId:e,openTask:a,removeTask:o},t)}}),(0,rt.jsx)(yt,{openNewTask:function(t){return function(){var e=Date.now().toString(),n=Date.now();r(function(t,e,r){return{type:"TODO/ADD_TASK",statusId:t,taskId:e,createdAt:r}}(t,e,n)),r(j(e))}}(e)})]})},mt=r(571),vt=r.p+"assets/loupe.svg";function Ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var jt=function(){var t,e,r,n,a,o=c(),s=u((function(t){return t.todo.filter.text})),i=(n=(0,ct.useState)(!1),a=2,function(t){if(Array.isArray(t))return t}(n)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o=[],s=!0,i=!1;try{for(r=r.call(t);!(s=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);s=!0);}catch(t){i=!0,a=t}finally{try{s||null==r.return||r.return()}finally{if(i)throw a}}return o}}(n,a)||function(t,e){if(t){if("string"==typeof t)return Ot(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ot(t,e):void 0}}(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=i[0],d=i[1];return(0,rt.jsxs)("div",{className:O()("filter--filter",(t={},e="filter--filter_focus",r=l,e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t)),children:[(0,rt.jsx)("input",{type:"text",value:s,onChange:function(t){o({type:"TODO/SET_FILTER_TEXT",text:t.target.value})},onFocus:function(){return d(!0)},onBlur:function(){return d(!1)},placeholder:"Search..."}),(0,rt.jsx)(mt.HandySvg,{src:vt})]})},It="activeTask--title",ht=function(){var t=c(),e=u((function(t){return t.todo.tasks.activeTaskId})),r=(0,ct.useRef)(null);if((0,ct.useEffect)((function(){var t=function(t){"Escape"===t.key&&n()};return window.addEventListener("keydown",t),function(){return window.removeEventListener("keydown",t)}})),!e)return null;function n(){t({type:"TODO/REMOVE_ACTIVE_TASK_ID"})}return(0,rt.jsx)("div",{className:"activeTask--modal",children:(0,rt.jsxs)("section",{className:"activeTask--wrapper",children:[(0,rt.jsx)(kt,{hideTask:n,removeTask:function(r){n(),t(f(e,r))},taskId:e}),(0,rt.jsx)(Ct,{taskId:e,setTitle:function(r){t(I(e,{title:r}))},setFocusOnBody:function(){r.current&&r.current.focus()}}),(0,rt.jsx)(wt,{taskId:e}),(0,rt.jsx)(xt,{taskId:e,setStatus:function(r,n){t(p({taskId:e,startStatusId:r,endStatusId:n}))},setPriory:function(r){t(I(e,{priory:r}))}}),(0,rt.jsx)(gt,{ref:r,taskId:e,setBody:function(r){t(I(e,{body:r}))}}),(0,rt.jsx)(Et,{addNewSubTask:function(){var r=Date.now().toString();t(function(t,e){return{type:"TODO/ADD_SUBTASK",taskId:t,subTaskId:e}}(e,r))},editSubTask:function(r,n){t(function(t,e,r){return{type:"TODO/EDIT_SUBTASK",taskId:e,subTaskId:t,subTask:r}}(r,e,n))},removeSubTask:function(r){t(function(t,e){return{type:"TODO/REMOVE_SUBTASK",taskId:e,subTaskId:t}}(r,e))},taskId:e}),(0,rt.jsx)(Ft,{addNewReply:function(r,n){var a,o=Date.now().toString(),s=Date.now();t({type:"TODO/ADD_REPLY",replyId:(a={replyId:o,commentId:r,taskId:e,createdAt:s,body:n}).replyId,commentId:a.commentId,taskId:a.taskId,createdAt:a.createdAt,body:a.body})},addNewComment:function(r){var n,a=Date.now().toString(),o=Date.now();t((n={commentId:a,taskId:e,body:r,createdAt:o},{type:"TODO/ADD_COMMENT",commentId:n.commentId,taskId:n.taskId,body:n.body,createdAt:n.createdAt}))},taskId:e})]},e)})},kt=function(t){var e=t.removeTask,r=t.hideTask,n=t.taskId,a=tt.getState().todo.tasks.entities[n].statusId;return(0,rt.jsxs)("div",{className:"activeTask--manageButtons",children:[(0,rt.jsx)("button",{className:"activeTask--manageButtons__hide",onClick:r,children:"Esc"}),(0,rt.jsx)("button",{className:"activeTask--manageButtons__remove",onClick:function(){return e(a)},children:"Delete"})]})},gt=(0,ct.forwardRef)((function(t,e){var r=t.taskId,n=t.setBody,a=u(ut(r,"body")),o=(0,ct.useRef)(null);(0,ct.useImperativeHandle)(e,(function(){return{focus:function(){if(o.current){o.current.focus();var t=o.current.value.length;o.current.setSelectionRange(t,t)}}}}));var s=function(){var t=o.current;t&&(t.style.height="auto",t.style.height="".concat(t.scrollHeight+1,"px"))};return(0,ct.useEffect)((function(){s()}),[]),(0,rt.jsx)("div",{className:"activeTask--body",children:(0,rt.jsx)("textarea",{className:"activeTask--textarea",ref:o,value:a,onChange:function(t){n(t.target.value),s()},placeholder:"You can describe your task..."})})})),Tt=r(738),St=r.n(Tt),wt=function(t){var e=t.taskId,r=u(ut(e,"createdAt")),n=u(ut(e,"completedAt")),a=new Date(r),o=null,s=new Date;return n&&(s=o=new Date(n)),(0,rt.jsxs)("section",{className:"activeTask--dates",children:[(0,rt.jsx)("span",{children:"Date Created"}),(0,rt.jsx)(St(),{date:a,options:{includeDay:!0,twentyFourHour:!0}}),(0,rt.jsx)("span",{children:"Time Spent"}),(0,rt.jsx)(St(),{date:a,relativeTo:s}),(0,rt.jsx)("span",{children:"Done At"}),o?(0,rt.jsx)(St(),{date:o,options:{includeDay:!0,twentyFourHour:!0}}):"Not completed"]})};function Dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var xt=function(t){var e,r,n=t.taskId,a=t.setStatus,o=t.setPriory,s=u(ut(n,"priory")),i=u(ut(n,"statusId")),c=u((function(t){return Object.values(t.todo.status.entities).map((function(t){return{title:t.title,id:t.id}}))}),(function(){return!0})),l=(e=(0,ct.useState)(s),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o=[],s=!0,i=!1;try{for(r=r.call(t);!(s=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);s=!0);}catch(t){i=!0,a=t}finally{try{s||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,r)||function(t,e){if(t){if("string"==typeof t)return Dt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dt(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=l[0],f=l[1];return(0,rt.jsxs)("div",{className:"activeTask--state",children:[(0,rt.jsx)("div",{className:"activeTask--state__status",children:(0,rt.jsx)("select",{value:i,onChange:function(t){var e=t.target.value;a(i,e)},children:c.map((function(t){return(0,rt.jsx)("option",{value:t.id,children:t.title},t.id)}))})}),(0,rt.jsx)("div",{className:"activeTask--state__priory",children:(0,rt.jsx)("select",{value:d,onChange:function(t){var e=t.target.value;f(e),o(e)},children:["ordinary","important"].map((function(t){return(0,rt.jsx)("option",{value:t,children:t},t)}))})})]})},At=r.p+"assets/remove.svg",_t=r.p+"assets/plus.svg",Pt=(0,ct.memo)((function(t){var e=t.removeSubTask,r=t.editSubTask,n=t.subTaskId,a=u((function(t){return t.todo.subTasks[n]})),o=a.body,s=a.isDone;return(0,rt.jsxs)("div",{className:"activeTask--field",children:[(0,rt.jsx)("input",{className:"activeTask--field__checkbox",type:"checkbox",checked:s,onChange:function(t){r(n,{isDone:t.target.checked})}}),(0,rt.jsx)("input",{className:"activeTask--field__input",onChange:function(t){r(n,{body:t.target.value})},value:o,placeholder:"your text..."}),(0,rt.jsx)("button",{className:"activeTask--field__remove",onClick:function(){return e(n)},children:(0,rt.jsx)(mt.HandySvg,{src:At})})]})})),Et=function(t){var e=t.taskId,r=t.addNewSubTask,n=t.editSubTask,a=t.removeSubTask,o=u(ut(e,"subTaskIds"));return(0,rt.jsxs)("div",{className:"activeTask--subTasks",children:[o.map((function(t){return(0,rt.jsx)(Pt,{subTaskId:t,removeSubTask:a,editSubTask:n},t)})),(0,rt.jsxs)("button",{onClick:r,className:"activeTask--addTask",children:[(0,rt.jsx)(mt.HandySvg,{src:_t}),(0,rt.jsx)("span",{children:"task"})]})]})};function Nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ct=function(t){var e,r,n,a,o,s=t.taskId,i=t.setTitle,c=t.setFocusOnBody,l=u(ut(s,"title")),d="Untitled",f=(a=(0,ct.useState)(!1),o=2,function(t){if(Array.isArray(t))return t}(a)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o=[],s=!0,i=!1;try{for(r=r.call(t);!(s=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);s=!0);}catch(t){i=!0,a=t}finally{try{s||null==r.return||r.return()}finally{if(i)throw a}}return o}}(a,o)||function(t,e){if(t){if("string"==typeof t)return Nt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nt(t,e):void 0}}(a,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=f[0],y=f[1];return(0,rt.jsx)(rt.Fragment,{children:p?(0,rt.jsx)("textarea",{className:"activeTask--title activeTask--title__textarea",value:l,onChange:function(t){i(t.target.value)},onBlur:function(){return y(!1)},autoFocus:!0,onFocus:function(t){var e=t.target.value.length;t.target.setSelectionRange(e,e)},maxLength:1e3,rows:1,placeholder:d,onKeyDown:function(t){"Enter"===t.key&&(t.preventDefault(),c())}}):(0,rt.jsx)("h1",{onClick:function(){return y(!0)},className:O()(It,(e={},r="activeTask--title_empty",n=!l,r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e)),children:l||d})})},Rt=function(t){return t.todo.comments};function Kt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Mt=function(t){var e,r,n=t.autoFocus,a=void 0!==n&&n,o=t.onSubmit,s=t.onHide,i=(e=(0,ct.useState)(""),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o=[],s=!0,i=!1;try{for(r=r.call(t);!(s=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);s=!0);}catch(t){i=!0,a=t}finally{try{s||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,r)||function(t,e){if(t){if("string"==typeof t)return Kt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Kt(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0],u=i[1];return(0,rt.jsxs)("form",{onSubmit:function(t){t.preventDefault(),c&&(o(c),u(""))},className:"comments--commentForm",children:[(0,rt.jsx)("input",{className:"comments--input",autoFocus:a,onChange:function(t){u(t.target.value)},value:c,placeholder:"Type your comment here..."}),(0,rt.jsxs)("div",{className:"comments--buttons",children:[s&&(0,rt.jsx)("button",{className:"comments--buttons__cancel",type:"button",onClick:s,children:"cancel"}),(0,rt.jsx)("button",{className:"comments--buttons__send",children:"send"})]})]})},Ut=(0,ct.memo)((function(t){var e,r,n,a=t.commentId,o=t.replyId,s=t.body,i=t.createdAt,c=t.children,u=t.addNewReply,l=t.setReplyId,d=a===o,f=new Date(i);return(0,rt.jsxs)("li",{className:"comments--list__item",children:[(0,rt.jsxs)("div",{className:O()("comments--comment",(e={},r="comments--comment_active",n=d,r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e)),children:[(0,rt.jsx)("p",{children:s}),(0,rt.jsxs)("div",{children:[(0,rt.jsx)(St(),{date:f,options:{twentyFourHour:!0}}),!d&&(0,rt.jsx)("button",{onClick:function(){return l(a)},children:"reply"})]})]}),c,d&&(0,rt.jsx)(Mt,{autoFocus:!0,onSubmit:function(t){u(a,t),l(null)},onHide:function(){return l(null)}})]})})),Lt=function t(e){var r=e.commentIds,n=e.addNewReply,a=e.replyId,o=e.setReplyId,s=u(Rt);return(0,rt.jsx)("ul",{className:"comments--list",children:r.map((function(e){var r=s[e];return(0,rt.jsx)(Ut,{addNewReply:n,body:r.body,commentId:e,createdAt:r.createdAt,replyId:a,setReplyId:o,children:r.replyIds.length>0&&(0,rt.jsx)(t,{replyId:a,setReplyId:o,addNewReply:n,commentIds:r.replyIds})},e)}))})};function Bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ft=function(t){var e,r,n=t.taskId,a=t.addNewComment,o=t.addNewReply,s=u(ut(n,"commentIds")),i=(e=(0,ct.useState)(null),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o=[],s=!0,i=!1;try{for(r=r.call(t);!(s=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);s=!0);}catch(t){i=!0,a=t}finally{try{s||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,r)||function(t,e){if(t){if("string"==typeof t)return Bt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bt(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0],l=i[1];return(0,rt.jsxs)("section",{className:"comments--comments",children:[(0,rt.jsx)("h2",{children:"Comments"}),(0,rt.jsx)(Lt,{addNewReply:o,commentIds:s,setReplyId:l,replyId:c}),!c&&(0,rt.jsx)(Mt,{onSubmit:a})]})},Vt=function(){var t=c(),e=u((function(t){return t.todo.status.ids}));return(0,rt.jsxs)("div",{className:"todoPage--wrapper",children:[(0,rt.jsx)(Ht,{}),(0,rt.jsx)(jt,{}),(0,rt.jsxs)("div",{className:"todoPage--todoWrapper",children:[(0,rt.jsx)(i.Z5,{onDragEnd:function(e){var r=e.draggableId,n=e.source,a=e.destination;a&&(a.droppableId===n.droppableId&&a.index===n.index||t(p({startStatusId:n.droppableId,endStatusId:a.droppableId,endIndex:a.index,taskId:r})))},children:e.map((function(t){return(0,rt.jsx)(bt,{statusId:t},t)}))}),(0,rt.jsx)(ht,{})]})]})},Ht=function(){return(0,rt.jsx)("button",{className:"todoPage--clearState",onClick:function(){m.clearState(),location.reload()},children:"Clear State"})},$t=function(){return(0,rt.jsxs)("div",{className:"app--wrapper",children:[(0,rt.jsx)("header",{children:(0,rt.jsx)(n.rU,{to:"/",children:"Todo List"})}),(0,rt.jsx)(s.Z5,{children:(0,rt.jsx)(s.AW,{path:"/",element:(0,rt.jsx)(Vt,{})})})]})},qt=document.querySelector("#root");(0,o.s)(qt).render((0,rt.jsx)(a.zt,{store:tt,children:(0,rt.jsx)(n.UT,{children:(0,rt.jsx)($t,{})})}))}},function(t){t.O(0,[736],(function(){return 518,t(t.s=518)})),t.O()}]);